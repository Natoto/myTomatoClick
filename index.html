<!DOCTYPE html>
<html>
<head>
	<title>番茄钟</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1,  maximum-scale=1.0, user-scalable=0"  name="viewport" />
    <!-- <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" /> -->

	<link href="https://cdn.jsdelivr.net/npm/animate.css@3.5.1" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="lib/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/glable.css">

	<script type="text/javascript" src="lib/vue.js"></script>	
	<script src="js/tomato.js" type="text/javascript"></script> 
	
	<script type="text/javascript">

	</script> 
</head>
<body class="container">

<div id="parentdiv">

    <nav class="navbar navbar-inverse" >

	   <div class="container-fluid"> 
	    <div class="navbar-header"> 
	       <a class="navbar-brand" href="#">任务</a>
	       <a class="navbar-brand" href="#" @click="relextStartCount">休息计时</a>
	    </div> 

	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">    
	       
	      <ul class="nav navbar-nav navbar-right">
	        <li><a href="#">统计</a></li>
	        <li><a href="#">设置</a></li>
	        <li><a href="#">关于</a></li>
	      </ul>
	    </div>

	  </div>
	</nav>

	<!-- 添加番茄钟 -->
	<div id="main"> 
		<h1>{{text}}</h1>
		<p>添加番茄钟，开始今天的学习和工作吧！</p>
		<div class="addonediv">			
			<button class="btn btn-primary center"  @click="showaddmission=!showaddmission"> <i class="iconfont"></i> 来一个番茄钟</button>
		</div>
 		<div style="margin-top: 20px; margin-bottom: 20px;"> 			
			<button class="btn" @click="openTickSound=!openTickSound">{{openTickSound?"关闭声音":"开启声音"}}</button>
 		</div>		
		
		<!-- 新建番茄钟版面 -->
		<div id="addmission" v-if="showaddmission">
			 <div class="addnav">
			 	 <div class="addMission-nav-title">新增番茄钟</div>
			 	 <div class="addmossion-close" @click="showaddmission=false">X</div>
			 </div> 
			 <div class="addmission-main">
			 	<div class="addmission-main-1">
				 	<label> 任务名称: </label>
				 		<input type="tex" id="missionName" v-model="initTaskName" placeholder="我的番茄钟"></input>			 		
			 	</div>
			 	<div class="addmission-main-1">
			 		<label>预估番茄数: {{tomatoCount}}</label>
			 		<span class="addMission-main-button">
				 		<span class="addMission-main-button-sub" @click="subtomato">-</span>
				 		<span class="addMission-main-button-add" @click="addtomato">+</span>
			 		</span>
			 	</div>
			 	<div class="addmission-main-1">
			 		<ul class="addmission-ul">
			 			<li class="addmission-il">总计时间:</li>
			 			<li class="addmission-il">任务时间:</li>
			 			<li class="addmission-il">休息时间:</li>
			 		</ul> 
			 		<ul class="addmission-ul">
			 			<li class="addmission-il">{{allTime}}分钟</li>
			 			<li class="addmission-il">{{workTime}}分钟</li>
			 			<li class="addmission-il">{{relexTime}}分钟</li>
			 		</ul> 
			 	</div>
			 </div> 
		 	<div class="addmission-foot">
		 		<button class="btn btn-default " @click="showaddmission=false">取消</button>
		 		<button class="btn btn-primary" @click="maketask">确定</button>
		 	</div>
		</div> 

		<div v-for="item in mytasks" class="mission-cell">  
		  <ul class="mission-ul">
		  	<li class="mission-il" style="width: 60%;text-align: left;margin-left:5%">{{item.initTaskName}}</li> 
		  	<li class="mission-il">{{item.currentIndex}}/{{item.tomatoCount}}</li>

		  	<!-- 未开始 -->
		  	<li class="mission-il" v-if="item.state === 0" @click="startTomato(item)"><a><i class="iconfont"></i></a></li>
		  	<li class="mission-il" v-if="item.state === 0" @click="removeTomato(item)"> <a><i class="iconfont"></i></a> </li>

		  	<!-- 进行中 -->
		  	<li class="mission-il" v-if="item.state === 1" @click="completeTomato(item)"> 
				<a><i class="iconfont"></i></a>
		  	</li>
		  	<li class="mission-il" v-if="item.state === 1" @click="pauseTomato(item)">
		  		<a style="color:#F4606C;"> <i class="iconfont"></i></a>
		  	</li>

		  	<!-- 完成 -->
		  	<li class="mission-il" style="width:25%" v-if="item.state === 2">
		  		<i class="iconfont" style="color:#F4606C"> 任务完成!</i> 
		  	</li>
 

		  </ul>
		</div> 

	</div>

</div>

</body>
</html>